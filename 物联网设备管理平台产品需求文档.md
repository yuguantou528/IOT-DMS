# 物联网设备管理及应急指挥调度系统产品需求文档

## 文档信息

| 项目名称 | 物联网设备管理及应急指挥调度系统 |
|---------|---------------------------|
| 文档版本 | v1.0.0 |
| 创建日期 | 2025-07-21 |
| 最后更新 | 2025-07-21 |
| 文档类型 | 产品需求文档 (PRD) |
| 项目状态 | 开发中 |

## 1. 项目概述

### 1.1 项目背景

随着物联网技术的快速发展，各类智能设备在应急指挥、安防监控、环境监测等领域得到广泛应用。为了实现对分布式物联网设备的统一管理、实时监控和应急调度，需要构建一个集设备管理、可视化监控、音视频调度、告警管理于一体的综合性管理平台。

### 1.2 项目目标

- **统一管理**：实现多厂商、多类型物联网设备的统一接入和管理
- **实时监控**：提供基于GIS地图的设备分布可视化和实时状态监控
- **应急调度**：支持音视频通信调度和应急指挥功能
- **智能告警**：建立完善的告警规则体系，实现异常情况的及时发现和处理
- **数据统一**：构建标准化的设备数据模型，支持第三方系统对接

### 1.3 目标用户

- **系统管理员**：负责平台配置、用户管理、权限分配
- **设备运维人员**：负责设备接入、配置、维护和故障处理
- **监控调度人员**：负责实时监控、应急调度和事件处理
- **决策管理人员**：查看统计报表、监控整体运行状态

## 2. 功能需求

### 2.1 首页模块

#### 2.1.1 功能概述
数据看板展示设备数据情况，包括在离线数据、设备数量等关键指标。

#### 2.1.2 功能要求
- **数据准确性**：数据看板所展示的数据需实时、准确反映设备实际状态
- **展示形式**：以简洁、直观的图表形式展示数据，便于用户快速获取信息
- **统计维度**：
  - 设备总数统计
  - 在线/离线设备数量
  - 设备类型分布
  - 告警数量统计
  - 厂商分布统计

#### 2.1.3 界面要求
- 响应式卡片布局
- 支持数据实时刷新
- 图表可视化展示
- 快速导航入口

### 2.2 可视化监控屏模块

#### 2.2.1 功能概述
可结合高精度GIS地图，实现物联网设备点位的精准可视化分布展示。集成实时视频监控功能，接入多种类型监控摄像头。实时捕捉设备发出的各类告警信号，并以醒目的图标、颜色和文字提示展示在地图相应设备点位旁。

#### 2.2.2 功能要求
- **GIS地图展示**：确保设备点位在地图上的定位精度，支持用户通过地图界面快速查找设备地理位置
- **视频监控接入**：兼容多种类型的监控摄像头，保证视频流的稳定接入和流畅播放
- **告警展示**：告警图标、颜色需醒目且易于区分不同告警级别，告警信息展示全面、准确
- **实时更新**：设备状态、位置信息实时更新
- **交互操作**：支持地图缩放、平移、设备点击查看详情

#### 2.2.3 技术要求
- 支持多种地图服务（百度地图、高德地图等）
- 设备点位精确定位（GPS坐标）
- 视频流协议支持（RTMP、HLS、WebRTC等）
- 大屏显示优化

### 2.3 设备管理模块

#### 2.3.1 设备厂商管理

**功能概述**：对不同设备厂商进行综合管理。

**功能要求**：
- **厂商信息维护**：支持添加、编辑、删除设备厂商信息，包括厂商名称、联系方式、地址等
- **关联设备管理**：能够查看该厂商下所有关联设备的基本信息
- **数据导出**：支持厂商信息批量导出

#### 2.3.2 设备型号管理

**功能概述**：对不同厂商的不同设备型号进行综合管理。

**功能要求**：
- **型号信息管理**：记录设备型号的详细信息，如型号名称、性能参数、适用场景等
- **与厂商关联**：明确设备型号所属的设备厂商
- **参数配置**：支持设备型号技术参数的详细配置

#### 2.3.3 产品管理

**功能概述**：实现同种设备类型多厂商、多品牌、多型号的产品统一化管理。

**功能要求**：
- **统一模型构建**：构建统一的产品模型，涵盖设备的各类属性和参数
- **数据对接**：能够实现与第三方平台的接口对接，输出统一格式的数据
- **关联设备管理**：支持产品与实际设备的关联管理
- **规格参数配置**：支持产品规格参数的灵活配置

#### 2.3.4 设备管理

**功能概述**：支持370M基站、Mesh电台、卫星通信、视频监控等设备的管理。

**功能要求**：
- **设备接入**：根据不同设备接口，配置不同参数设置界面，确保设备能够顺利接入系统
- **数据展示**：以清晰、直观的方式展示设备的视频数据、录像数据、拓扑图及参数属性等信息
- **设备控制**：支持设备远程控制和参数配置
- **状态监控**：实时监控设备运行状态和连接状态

#### 2.3.5 物模型管理

**功能概述**：根据产品管理，实现产品统一模型数据配置管理。

**功能要求**：
- **模型配置**：提供灵活的模型配置功能，可根据不同产品类型进行定制化配置
- **接口对接**：确保输出接口的稳定性和兼容性，能够与多种第三方平台进行对接
- **数据标准化**：建立统一的数据模型标准

### 2.4 拓扑图管理模块

#### 2.4.1 功能概述
实现各个客户公司下多设备之间通信拓扑图，包括状态监测、链路监测、通信监测。

#### 2.4.2 功能要求
- **拓扑图绘制**：准确绘制设备之间的通信拓扑结构，实时反映设备状态和链路情况
- **监测功能**：具备实时监测功能，能够及时发现设备状态异常、链路故障等问题并告警
- **动态更新**：拓扑图能够根据设备状态变化动态更新
- **交互操作**：支持拓扑图的缩放、拖拽、节点点击查看详情

### 2.5 音视频调度模块

#### 2.5.1 视频调度

**功能概述**：接收单兵执法记录仪、应急指挥车布控球、固定站光电重载云台的实时视频流。

**功能要求**：
- **视频接收**：确保能够稳定接收各类设备的实时视频流，支持多种视频格式
- **视图展示**：提供多视图展示功能，支持用户自由切换视图模式
- **云台控制**：实现对云台的远程控制，操作响应及时、准确
- **录像管理**：对录像数据进行分类存储和管理，支持按条件检索和回放

#### 2.5.2 音频调度

**功能概述**：实现对讲机等设备单呼、组呼、动态组呼、混合编组、话权控制、历史录音等。

**功能要求**：
- **呼叫功能**：保证呼叫连接的稳定性和通话质量，支持多种呼叫模式
- **编组管理**：提供灵活的编组功能，可根据实际需求进行动态调整
- **话权控制**：确保话权控制机制的公平、有效，避免通话冲突
- **录音管理**：对历史录音进行存储和管理，支持按时间、呼叫类型等条件检索

### 2.6 视频会商模块

#### 2.6.1 功能概述
发起、加入会议、增删会议、邀请入会、结束会议、会议禁言等。

#### 2.6.2 功能要求
- **会议操作**：各项会议操作功能需稳定、可靠，响应时间短
- **参会体验**：保证参会人员的音视频质量，减少卡顿、延迟等现象
- **会议管理**：支持会议的创建、编辑、删除和权限管理
- **多终端支持**：支持PC端、移动端等多种终端接入

### 2.7 告警管理模块

#### 2.7.1 告警消息管理

**功能概述**：对设备告警信息进行全面记录，系统实时接收告警信号并存储在告警数据库中。

**功能要求**：
- **告警接收**：确保能够实时、准确接收各类设备的告警信号
- **信息记录**：告警信息记录完整、准确，便于后续查询和分析
- **告警处理**：支持告警的确认、处理、忽略等操作
- **统计分析**：提供告警统计和趋势分析功能

**数据字段**：
- 告警时间
- 告警设备
- 告警类型
- 告警级别
- 告警描述
- 处理状态
- 处理人员
- 处理时间
- 处理备注

#### 2.7.2 告警规则配置

**功能概述**：配置告警信息规则。

**功能要求**：
- **规则设置**：提供灵活的告警规则设置功能，可根据不同设备类型、参数设置不同的告警阈值和条件
- **规则生效**：确保配置的告警规则能够及时生效，准确触发告警
- **规则管理**：支持告警规则的启用、禁用、编辑、删除
- **条件配置**：支持复杂的告警条件配置（大于、小于、等于、不等于等）

### 2.8 系统管理模块

#### 2.8.1 客户管理

**功能概述**：多租户管理，实现不同客户账号的数据管理体系。

**功能要求**：
- **账号管理**：支持客户账号的创建、编辑、删除等操作
- **数据隔离**：确保不同客户之间的数据相互隔离，保障数据安全
- **权限控制**：支持客户级别的权限控制和数据访问控制

#### 2.8.2 角色管理

**功能概述**：进行角色权限配置。

**功能要求**：
- **权限设置**：可灵活设置不同角色的操作权限，如查看、编辑、删除等
- **角色分配**：能够将角色分配给不同的用户，方便管理用户权限
- **权限继承**：支持角色权限的继承和组合

#### 2.8.3 用户管理

**功能概述**：进行用户账号管理。

**功能要求**：
- **账号操作**：支持用户账号的注册、登录、密码重置等操作
- **身份验证**：采用安全可靠的身份验证机制，保障用户账号安全
- **用户信息**：支持用户基本信息的维护和管理

## 3. 技术需求

### 3.1 技术架构

#### 3.1.1 前端技术栈
- **框架**：React 18.2.0
- **UI组件库**：Ant Design 5.2.0
- **路由管理**：React Router 6.8.0
- **状态管理**：React Hooks + Context API
- **样式方案**：CSS模块 + CSS-in-JS
- **构建工具**：Webpack 5 + Babel
- **地图组件**：支持百度地图、高德地图等
- **图表组件**：AntV G6（拓扑图）、G2（统计图表）

#### 3.1.2 后端技术栈（预留）
- **开发语言**：Java/Node.js/Python（待定）
- **框架**：Spring Boot/Express/Django（待定）
- **数据库**：MySQL/PostgreSQL + Redis
- **消息队列**：RabbitMQ/Kafka
- **文件存储**：MinIO/阿里云OSS

#### 3.1.3 设备接入协议
- **通信协议**：MQTT、HTTP/HTTPS、WebSocket、TCP/UDP
- **视频协议**：RTMP、HLS、WebRTC、RTSP
- **音频协议**：SIP、RTP、WebRTC
- **数据格式**：JSON、XML、Protobuf

### 3.2 性能要求

#### 3.2.1 响应时间
- 页面加载时间：≤ 3秒
- 接口响应时间：≤ 1秒
- 实时数据更新：≤ 5秒
- 视频流延迟：≤ 500ms

#### 3.2.2 并发能力
- 支持1000+并发用户
- 支持10000+设备同时在线
- 支持100+路视频同时播放

#### 3.2.3 可用性
- 系统可用性：≥ 99.5%
- 数据备份：每日自动备份
- 故障恢复：≤ 30分钟

### 3.3 安全要求

#### 3.3.1 身份认证
- 用户名密码认证
- 图形验证码
- 会话管理
- 单点登录（SSO）支持

#### 3.3.2 权限控制
- 基于角色的访问控制（RBAC）
- 数据级权限控制
- 操作日志记录
- 敏感操作二次确认

#### 3.3.3 数据安全
- 数据传输加密（HTTPS/TLS）
- 数据存储加密
- 敏感信息脱敏
- 数据备份和恢复

## 4. 非功能性需求

### 4.1 用户体验

#### 4.1.1 界面设计
- 现代化的扁平化设计风格
- 响应式布局，支持多种屏幕尺寸
- 一致的交互体验和视觉风格
- 无障碍访问支持

#### 4.1.2 操作体验
- 操作流程简洁明了
- 错误提示清晰友好
- 支持快捷键操作
- 支持批量操作

### 4.2 兼容性

#### 4.2.1 浏览器兼容
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

#### 4.2.2 设备兼容
- 桌面端（Windows、macOS、Linux）
- 平板端（iPad、Android平板）
- 移动端（iOS、Android）

### 4.3 扩展性

#### 4.3.1 功能扩展
- 模块化设计，支持功能模块的独立开发和部署
- 插件化架构，支持第三方插件接入
- API开放，支持第三方系统集成

#### 4.3.2 性能扩展
- 支持水平扩展
- 支持负载均衡
- 支持分布式部署

## 5. 项目规划

### 5.1 开发阶段

#### 5.1.1 第一阶段（基础框架）
- ✅ 项目基础框架搭建
- ✅ 用户认证和权限管理
- ✅ 基础UI组件和布局
- ✅ 导航和路由系统

#### 5.1.2 第二阶段（设备管理）
- ✅ 设备厂商管理
- ✅ 设备型号管理
- ✅ 产品管理
- ✅ 设备管理
- ✅ 物模型管理

#### 5.1.3 第三阶段（告警管理）
- ✅ 告警消息管理
- ✅ 告警规则配置
- 🔄 告警统计分析

#### 5.1.4 第四阶段（监控调度）
- 🔄 可视化监控大屏
- 🔄 拓扑图管理
- 🔄 音视频调度
- 🔄 视频会商

#### 5.1.5 第五阶段（系统完善）
- 🔄 系统管理功能完善
- 🔄 性能优化
- 🔄 安全加固
- 🔄 测试和部署

### 5.2 里程碑

| 里程碑 | 时间节点 | 主要交付物 |
|--------|----------|------------|
| M1 | 2024-01-15 | 基础框架完成 |
| M2 | 2024-01-20 | 设备管理模块完成 |
| M3 | 2024-01-25 | 告警管理模块完成 |
| M4 | 2024-02-10 | 监控调度模块完成 |
| M5 | 2024-02-20 | 系统整体完成 |

## 6. 风险评估

### 6.1 技术风险

#### 6.1.1 设备接入兼容性
- **风险**：不同厂商设备协议差异较大
- **应对**：建立统一的设备接入适配层

#### 6.1.2 实时性能要求
- **风险**：大量设备并发时性能瓶颈
- **应对**：采用分布式架构和缓存优化

#### 6.1.3 视频流处理
- **风险**：多路视频流处理对服务器压力较大
- **应对**：采用流媒体服务器和CDN加速

### 6.2 业务风险

#### 6.2.1 需求变更
- **风险**：客户需求频繁变更
- **应对**：采用敏捷开发模式，快速响应变更

#### 6.2.2 数据安全
- **风险**：涉及敏感设备和位置信息
- **应对**：严格的安全措施和权限控制

## 7. 验收标准

### 7.1 功能验收
- 所有功能模块按需求文档实现
- 核心业务流程正常运行
- 用户界面友好易用
- 数据准确性和一致性

### 7.2 性能验收
- 满足性能指标要求
- 压力测试通过
- 稳定性测试通过
- 兼容性测试通过

### 7.3 安全验收
- 安全测试通过
- 权限控制正确
- 数据加密有效
- 日志记录完整

---

**文档状态**: 初版  
**下次更新**: 根据开发进度和需求变更进行更新  
**联系人**: 产品团队
