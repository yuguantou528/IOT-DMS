# 产品管理模块

## 功能概述

产品管理模块是设备管理系统的重要组成部分，用于管理同种设备类型的产品统一化管理。该模块支持产品的基本信息管理、子设备关联管理，实现了同一设备类型的产品可以关联多个子设备的功能。

## 主要功能

### 1. 产品列表展示
- 以表格形式展示所有产品信息
- 支持分页显示，可自定义每页显示数量
- 实时显示产品状态（启用/禁用/开发中/已废弃）
- 显示子设备数量统计
- 支持表格列的排序和筛选

### 2. 搜索和筛选功能
- **按产品名称/编码搜索**：支持模糊搜索产品名称或编码
- **按设备类型筛选**：可筛选不同类型的产品
- **按状态筛选**：可筛选不同状态的产品
- **重置功能**：一键清空所有搜索条件

### 3. 产品信息管理
- **新增产品**：添加新的产品信息
- **编辑产品**：修改现有产品的详细信息
- **删除产品**：删除不需要的产品记录
- **查看详情**：查看产品的完整信息
- **子设备管理**：管理产品关联的子设备

### 4. 子设备关联管理
- **添加子设备**：为产品添加多个子设备
- **编辑子设备**：修改子设备的详细信息
- **删除子设备**：删除不需要的子设备
- **规格参数管理**：为每个子设备配置详细的规格参数

## 数据字段

### 产品基本信息
| 字段名称 | 字段类型 | 是否必填 | 说明 |
|---------|---------|---------|------|
| name | String | 是 | 产品名称 |
| code | String | 是 | 产品编码（唯一） |
| deviceType | String | 是 | 设备类型 |
| deviceTypeName | String | 自动 | 设备类型名称 |
| status | String | 是 | 产品状态 |
| version | String | 是 | 产品版本 |
| description | String | 否 | 产品描述 |
| subDevices | Array | 否 | 关联的子设备列表 |
| createTime | String | 自动 | 创建时间 |
| updateTime | String | 自动 | 更新时间 |

### 子设备信息
| 字段名称 | 字段类型 | 是否必填 | 说明 |
|---------|---------|---------|------|
| id | Number | 自动 | 子设备ID |
| name | String | 是 | 子设备名称 |
| code | String | 是 | 子设备编码 |
| description | String | 否 | 子设备描述 |
| specifications | Object | 否 | 规格参数（键值对） |

## 产品状态

### 产品状态选项
- **启用**：产品正常使用中
- **禁用**：产品暂时停用
- **开发中**：产品正在开发阶段
- **已废弃**：产品已不再使用

## 设备类型

支持以下设备类型：
- **Mesh电台**：支持多跳自组网的通信设备
- **370M基站**：专业级370M频段基站设备
- **卫星通信**：卫星通信相关设备
- **网络摄像头**：视频监控摄像设备
- **视频监控**：视频监控系统设备
- **传感器**：各类传感器设备
- **网关设备**：网络网关设备
- **其他设备**：其他类型设备

## 布局设计

采用标准的双Card布局设计：

### 搜索区域
- 独立的Card组件
- 包含产品名称/编码搜索、设备类型筛选、状态筛选
- 只保留搜索和重置按钮

### 列表区域
- 独立的Card组件
- 标题栏右侧包含"新增产品"和"导出"按钮
- 包含数据表格和分页组件

## 操作说明

### 新增产品
1. 点击列表区域标题栏的"新增产品"按钮
2. 在弹出的表单中填写产品信息：
   - 基本信息：产品名称、产品编码、设备类型、产品状态、产品版本、产品描述
3. 点击"确定"保存

### 编辑产品
1. 在产品列表中点击"编辑"按钮
2. 在弹出的表单中修改产品信息
3. 点击"确定"保存修改

### 查看产品详情
1. 在产品列表中点击"查看详情"按钮（眼睛图标）
2. 在右侧弹出的抽屉中查看完整的产品信息
3. 可以在详情页面直接进行"编辑"操作

### 子设备管理
1. 在产品列表中点击"子设备管理"按钮（节点图标）
2. 在弹出的子设备管理界面中进行操作：
   - **添加子设备**：点击"添加子设备"按钮
   - **编辑子设备**：点击子设备项的"编辑"按钮
   - **删除子设备**：点击子设备项的"删除"按钮
   - **配置规格参数**：在子设备编辑界面添加规格参数

### 规格参数管理
1. 在子设备编辑界面的"规格参数"部分
2. 点击"添加参数"按钮添加新的参数
3. 输入参数名称和参数值
4. 可以删除不需要的参数

### 删除产品
1. 在产品列表中点击"删除"按钮
2. 在确认对话框中点击"确定"

### 搜索产品
1. 在搜索框中输入产品名称或编码
2. 选择设备类型、状态等筛选条件
3. 点击"搜索"按钮

## 技术实现

### 前端技术栈
- **React**: 用户界面构建
- **Ant Design**: UI组件库
- **React Router**: 路由管理
- **CSS Modules**: 样式管理

### 组件结构
```
src/pages/Device/Product/
├── index.js              # 主组件
├── index.module.css      # 样式文件
└── README.md            # 说明文档

src/components/SubDeviceManager/
├── index.js              # 子设备管理组件
├── index.module.css      # 样式文件
```

### API服务
```
src/services/productManagement.js
├── getProductList()         # 获取产品列表
├── createProduct()          # 创建产品
├── updateProduct()          # 更新产品
├── deleteProduct()          # 删除产品
├── exportProductData()      # 导出数据
└── 各种状态常量             # 产品状态、设备类型等
```

## 核心特性

### 1. 统一产品模型
- 构建统一的产品模型，涵盖产品的各类属性和参数
- 支持同种设备类型的多厂商、多品牌、多型号统一管理

### 2. 子设备关联
- **一对多关系**：一个产品可以关联多个子设备
- **灵活配置**：每个子设备可以独立配置规格参数
- **动态管理**：支持动态添加、编辑、删除子设备

### 3. 规格参数管理
- **键值对存储**：规格参数以键值对形式存储
- **动态添加**：支持动态添加任意数量的规格参数
- **灵活展示**：参数以标签形式直观展示

### 4. 数据对接准备
- **统一接口**：为与第三方平台对接预留统一接口
- **标准化输出**：输出统一格式的产品和子设备数据

## 扩展功能

### 已实现功能
- ✅ 基础CRUD操作
- ✅ 搜索和筛选
- ✅ 产品详情查看
- ✅ 子设备关联管理
- ✅ 规格参数配置
- ✅ 标准布局设计
- ✅ 响应式适配

### 计划功能
- 🔄 批量操作功能
- 🔄 产品模板管理
- 🔄 版本管理功能
- 🔄 数据导入导出
- 🔄 第三方平台对接
- 🔄 产品分类管理

## 注意事项

1. **编码唯一性**：产品编码和子设备编码必须保持唯一
2. **数据一致性**：产品与子设备的关联关系需要保持一致
3. **规格参数**：规格参数的键名应该标准化，便于后续数据处理
4. **性能考虑**：大量子设备时需要考虑性能优化

## 更新日志

### v1.0.0 (2024-01-21)
- 初始版本发布
- 实现基础的产品CRUD功能
- 添加搜索和筛选功能
- 实现子设备关联管理
- 添加规格参数配置功能
- 采用标准布局设计
- 实现响应式设计

---

**开发状态**: 基础版本完成  
**下一步**: 添加批量操作和第三方平台对接功能  
**维护者**: 开发团队
